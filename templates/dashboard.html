<!DOCTYPE html>
<html>
<head>
<title>Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { font-family: Arial; background:#f4f6f9; margin:0 }

.header {
  background:#198754;
  color:white;
  padding:15px;
  display:flex;
  justify-content:space-between;
}

.cards {
  display:flex;
  gap:15px;
  padding:20px;
  flex-wrap:wrap;
}

.card {
  flex:1;
  min-width:150px;
  background:white;
  padding:15px;
  border-radius:8px;
  text-align:center;
}

table {
  width:95%;
  margin:auto;
  background:white;
  border-collapse:collapse;
}

th, td {
  padding:10px;
  border-bottom:1px solid #ddd;
}
</style>
</head>

<body>

<div class="header">
  <h2>Smart Waste Monitoring</h2>
  <a href="/logout" style="color:white">Logout</a>
</div>

<div class="cards">
  <div class="card">Total Bins<br><b>{{ total_bins }}</b></div>
  <div class="card">Monitoring<br><b>LIVE</b></div>
  <div class="card">System<br><b>ONLINE</b></div>
</div>

{% if data|length == 0 %}
  <p style="text-align:center">Waiting for ESP data...</p>
{% else %}
<table>
<tr>
  <th>Bin ID</th>
  <th>Area</th>
  <th>Gas</th>
  <th>Level</th>
</tr>
{% for d in data %}
<tr>
  <td>{{ d.bin_id }}</td>
  <td>{{ d.area }}</td>
  <td>{{ d.gas }}</td>
  <td>{{ d.level }}%</td>
</tr>
{% endfor %}
</table>
{% endif %}

</body>
</html>
